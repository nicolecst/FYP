{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import { useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\n// import { onMounted, ref } from 'vue';\n\nexport default {\n  name: \"UserEdit\",\n  components: {\n    NavBar\n  },\n  methods: {\n    async UpdateUser(uid) {\n      const updateUserData = {\n        username: this.user.username,\n        email: this.user.email,\n        gender: this.user.gender,\n        age: this.user.age,\n        preference1: this.user.preference1,\n        preference2: this.user.preference2,\n        preference3: this.user.preference3,\n        type: this.user.type\n      };\n      await axios.put(\"/api/users/\" + uid, updateUserData).then(response => {\n        console.log(response.data);\n        alert(\"Successfully updated!\");\n        this.$router.push(\"/userProfile\");\n      });\n    }\n  },\n  data() {\n    return {\n      user: {}\n      // update_username: '',\n      // update_email: '',\n      // update_gender: '',\n      // update_age: '',\n      // update_preference: '',\n      // update_type: '',\n    };\n  },\n  mounted() {\n    const t = localStorage.getItem(\"userID\");\n    console.log(t);\n    axios.get(\"/api/users/\" + t).then(response => {\n      this.user = response.data;\n    });\n  }\n};","map":{"version":3,"names":["axios","NavBar","name","components","methods","UpdateUser","uid","updateUserData","username","user","email","gender","age","preference1","preference2","preference3","type","put","then","response","console","log","data","alert","$router","push","mounted","t","localStorage","getItem","get"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/UserEdit.vue"],"sourcesContent":["<template>\n  <div class=\"bg\">\n    <NavBar />\n    <h1>This is the user edit profile</h1>\n    <div class=\"container\">\n      <img class=\"header\" src=\"@/assets/Images/flowers.jpg\" alt=\"header-img\" />\n      <div class=\"row\">\n        <div class=\"col-md-5 left\">\n          <img\n            class=\"circle\"\n            src=\"@/assets/Images/male.jpg\"\n            alt=\"male-user-icon\"\n          />\n        </div>\n\n        <div class=\"col-md-5\">\n          <div class=\"right\">\n            <div class=\"row mt-2\">\n              <p style=\"color:gray\">UserID: {{ user._id }}</p>\n            </div>\n            \n\n            <div class=\"update-form\">\n              <form @submit.prevent=\"UpdateUser(user._id)\">\n                <div class=\"row mt-2\">\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"\">Username</label\n                    ><input\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"user.username\"\n                    />\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"\">Email</label\n                    ><input\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"user.email\"\n                    />\n                  </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"\">Gender</label\n                    ><select class=\"form-control\" v-model=\"user.gender\">\n                      <option>Male</option>\n                      <option>Female</option>\n                      <option>Prefer not to say</option>\n                    </select>\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"\">Age</label\n                    >\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"user.age\"\n                    />\n                    \n                  </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                  <label for=\"\">Preferences</label>\n                  <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"basic-addon1\"\n                        >1st</span\n                      >\n                    </div>\n                    <select\n                      id=\"inputState\"\n                      class=\"form-control inline\"\n                      v-model=\"user.preference1\"\n                    >\n                      <option selected>Choose a preference..</option>\n                      <option>Natural Attractions</option>\n                      <option>Cultural and Historical Sites</option>\n                      <option>Urban Attractions</option>\n                      <option>Adventure and Outdoor</option>\n                      <option>Culinary and Food</option>\n                      <option>Wellness and Retreats</option>\n                      <option>Theme Parks</option>\n                      <option>Entertainment Complexes</option>\n                      <option>Shopping</option>\n                    </select>\n                  </div>\n\n                  <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"basic-addon1\"\n                        >2nd</span\n                      >\n                    </div>\n                    <select\n                      id=\"inputState\"\n                      class=\"form-control inline\"\n                      v-model=\"user.preference2\"\n                    >\n                      <option selected>Choose a preference..</option>\n                      <option>Natural Attractions</option>\n                      <option>Cultural and Historical Sites</option>\n                      <option>Urban Attractions</option>\n                      <option>Adventure and Outdoor</option>\n                      <option>Culinary and Food</option>\n                      <option>Wellness and Retreats</option>\n                      <option>Theme Parks</option>\n                      <option>Entertainment Complexes</option>\n                      <option>Shopping</option>\n                    </select>\n                  </div>\n\n                  <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"basic-addon1\"\n                        >3rd</span\n                      >\n                    </div>\n                    <select\n                      id=\"inputState\"\n                      class=\"form-control inline\"\n                      v-model=\"user.preference3\"\n                    >\n                      <option selected>Choose a preference..</option>\n                      <option>Natural Attractions</option>\n                      <option>Cultural and Historical Sites</option>\n                      <option>Urban Attractions</option>\n                      <option>Adventure and Outdoor</option>\n                      <option>Culinary and Food</option>\n                      <option>Wellness and Retreats</option>\n                      <option>Theme Parks</option>\n                      <option>Entertainment Complexes</option>\n                      <option>Shopping</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                  <label for=\"\">Type</label\n                  ><select\n                    name=\"\"\n                    id=\"\"\n                    class=\"form-control inline\"\n                    v-model=\"user.type\"\n                  >\n                    <option>Solo</option>\n                    <option>Couple</option>\n                    <option>Friends</option>\n                    <option>Family</option>\n                  </select>\n                </div>\n\n                <div class=\"row mt-2\">\n                  <button class=\"btn profile-button\" type=\"submit\">\n                  Update\n                </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import { useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport NavBar from \"@/components/NavBar.vue\";\n// import { onMounted, ref } from 'vue';\n\nexport default {\n  name: \"UserEdit\",\n  components: {\n    NavBar,\n  },\n  methods: {\n    async UpdateUser(uid) {\n      const updateUserData = {\n        username: this.user.username,\n        email: this.user.email,\n        gender: this.user.gender,\n        age: this.user.age,\n        preference1: this.user.preference1,\n        preference2: this.user.preference2,\n        preference3: this.user.preference3,\n        type: this.user.type,\n      };\n\n      await axios.put(\"/api/users/\" + uid, updateUserData).then((response) => {\n        console.log(response.data);\n        alert(\"Successfully updated!\");\n        this.$router.push(\"/userProfile\");\n      });\n    },\n  },\n  data() {\n    return {\n      user: {},\n      // update_username: '',\n      // update_email: '',\n      // update_gender: '',\n      // update_age: '',\n      // update_preference: '',\n      // update_type: '',\n    };\n  },\n  mounted() {\n    const t = localStorage.getItem(\"userID\");\n    console.log(t);\n    axios.get(\"/api/users/\" + t).then((response) => {\n      this.user = response.data;\n    });\n  },\n};\n</script>\n\n<style scoped>\n.bg {\n  background-color: #002224;\n  /* background-size: cover; */\n  height: 100%;\n  margin: auto;\n  align-items: center;\n  /* width: 100vw;\n  height: 100vh; */\n}\n\n.container {\n  background-color: white;\n  width: 60%;\n  min-height: 500px;\n  height: 70%;\n  padding-left: 0px;\n  padding-right: 0px;\n  border-radius: 30px;\n  /* padding: 40px; */\n}\nimg {\n  width: 250px;\n  height: 250px;\n}\n.circle {\n  /* Make the image circle*/\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  -ms-border-radius: 50%;\n  -o-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.right {\n  text-align: left;\n}\n\n.left {\n  padding: 40px;\n}\n\n.header {\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  border-top-left-radius: 30px;\n  border-top-right-radius: 30px;\n}\n.update-form {\n  display: flex;\n  align-content: start;\n}\ninput {\n  display: block;\n}\n</style>\n"],"mappings":";AAyKA;AACA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,yBAAyB;AAC5C;;AAEA,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,OAAO,EAAE;IACP,MAAMC,UAAUA,CAACC,GAAG,EAAE;MACpB,MAAMC,cAAa,GAAI;QACrBC,QAAQ,EAAE,IAAI,CAACC,IAAI,CAACD,QAAQ;QAC5BE,KAAK,EAAE,IAAI,CAACD,IAAI,CAACC,KAAK;QACtBC,MAAM,EAAE,IAAI,CAACF,IAAI,CAACE,MAAM;QACxBC,GAAG,EAAE,IAAI,CAACH,IAAI,CAACG,GAAG;QAClBC,WAAW,EAAE,IAAI,CAACJ,IAAI,CAACI,WAAW;QAClCC,WAAW,EAAE,IAAI,CAACL,IAAI,CAACK,WAAW;QAClCC,WAAW,EAAE,IAAI,CAACN,IAAI,CAACM,WAAW;QAClCC,IAAI,EAAE,IAAI,CAACP,IAAI,CAACO;MAClB,CAAC;MAED,MAAMhB,KAAK,CAACiB,GAAG,CAAC,aAAY,GAAIX,GAAG,EAAEC,cAAc,CAAC,CAACW,IAAI,CAAEC,QAAQ,IAAK;QACtEC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1BC,KAAK,CAAC,uBAAuB,CAAC;QAC9B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC;MACnC,CAAC,CAAC;IACJ;EACF,CAAC;EACDH,IAAIA,CAAA,EAAG;IACL,OAAO;MACLb,IAAI,EAAE,CAAC;MACP;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;EACH,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACR,MAAMC,CAAA,GAAIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACxCT,OAAO,CAACC,GAAG,CAACM,CAAC,CAAC;IACd3B,KAAK,CAAC8B,GAAG,CAAC,aAAY,GAAIH,CAAC,CAAC,CAACT,IAAI,CAAEC,QAAQ,IAAK;MAC9C,IAAI,CAACV,IAAG,GAAIU,QAAQ,CAACG,IAAI;IAC3B,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}