{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport NavBarVue from \"../components/NavBar.vue\";\nimport CardViewVue from \"../components/CardView.vue\";\nimport ColorTags from \"@/components/ColorTags.vue\";\nexport default {\n  name: \"HomeView\",\n  components: {\n    NavBarVue,\n    CardViewVue,\n    ColorTags\n  },\n  data() {\n    return {\n      activities: [],\n      user: {},\n      searchParam: \"\"\n    };\n  },\n  methods: {\n    actCat(cat) {\n      return this.activities.filter(a => a.Category === cat);\n    },\n    approved() {\n      return this.activities.filter(a => a.Approved === true);\n    },\n    create() {\n      this.$router.push(\"/create\");\n    }\n    // filterAct(param){\n    //   return this.activities.filter((a)=> a.Act_name === param && a.Approved === true)\n    // }\n  },\n  async created() {\n    const response = await axios.get(\"/api/\").then(response => this.activities = response.data);\n\n    // const activities = response.data;\n    // this.activities = activities;\n\n    console.log(response);\n  },\n  mounted() {\n    const i = localStorage.getItem(\"userID\");\n    console.log(i);\n    axios.get(\"/api/users/\" + i).then(response => this.user = response.data);\n  },\n  computed: {\n    filteredAct: function () {\n      return this.activities.filter(a => {\n        if (this.searchParam !== null && this.searchParam !== undefined && this.searchParam !== \"\") {\n          return a.Act_name && a.Act_name.toLowerCase().match(this.searchParam.toLowerCase()) && a.Approved === true;\n        }\n        return a.Approved === true;\n      });\n      // return this.activities.filter((a) => a.Act_name.toLowerCase().match(this.searchParam.toLowerCase()) && a.Approved === true);\n    }\n  }\n};","map":{"version":3,"names":["axios","NavBarVue","CardViewVue","ColorTags","name","components","data","activities","user","searchParam","methods","actCat","cat","filter","a","Category","approved","Approved","create","$router","push","created","response","get","then","console","log","mounted","i","localStorage","getItem","computed","filteredAct","undefined","Act_name","toLowerCase","match"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <NavBarVue />\n    <div class=\"welcomeMsg\">\n      <!-- <h1>Welcome {{ user.username }}!</h1> -->\n      <h1>Explore Hong Kong With E-TRIP!</h1>\n      <form class=\"search-form\">\n        <input\n          type=\"text\"\n          class=\"form-control input-lg search-input\"\n          placeholder=\"search by activity name..\"\n          v-model=\"searchParam\"\n        />\n      </form>\n      <button class=\"btn create-btn\" @click=\"create()\">\n        <span style=\"font-size: 1.5em\">\n          <font-awesome-icon\n            icon=\"fa-solid fa-calendar-plus\"\n            style=\"margin-right: 8px\"\n          /> </span\n        >Create Itinerary!\n      </button>\n      <!-- <svg class=\"svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n        <path\n          fill=\"#fff\"\n          fill-opacity=\"1\"\n          d=\"M0,64L48,69.3C96,75,192,85,288,106.7C384,128,480,160,576,186.7C672,213,768,235,864,245.3C960,256,1056,256,1152,250.7C1248,245,1344,235,1392,229.3L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\"\n        ></path>\n      </svg> -->\n    </div>\n\n    <!-- <div class=\"welcomMsg\">\n      <div class=\"search-container\">\n        <div class=\"search-inner-container\">\n          <div class=\"row mt-2 justify-content-center align-items-center\">\n            <div class=\"col-md-6\">\n              <h1>Welcome {{ user.username }}!</h1>\n              <form class=\"d-flex align-items-center flex-nowrap search-form\">\n                <input\n                  type=\"text\"\n                  class=\"form-control form-input\"\n                  placeholder=\"search by activity name..\"\n                  v-model=\"searchParam\"\n                />\n                <button class=\"btn btn-outline-success\">\n                <font-awesome-icon :icon=\"['fas', 'magnifying-glass']\" />\n              </button>\n              </form>\n            </div>\n          </div>\n          <p>{{ searchParam }}</p>\n        </div>\n      </div>\n    </div> -->\n    <div class=\"row\" style=\"padding: 20px 20px 0px 20px\">\n      <div class=\"col-md-6\">\n        <h3>\n          Activities <span v-if=\"searchParam != ''\">(Search Results)</span>\n        </h3>\n      </div>\n      <div class=\"col-md-6\" style=\"text-align: right\">\n        <a href=\"/activities\">view all</a>\n      </div>\n    </div>\n\n    <div class=\"scrolls\">\n      <CardViewVue\n        v-for=\"activity in filteredAct.slice(0, 10)\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :type=\"activity.Type\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n        :img=\"activity.Image\"\n      >\n        <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n        </template>\n      </CardViewVue>\n    </div>\n\n    <h3>{{ user.preference1 }}</h3>\n    <div class=\"scrolls\">\n      <CardViewVue\n        v-for=\"activity in actCat(user.preference1)\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n      >\n        <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">\n              <ColorTags v-if=\"t == 'Couple'\" :text=\"t\" color=\"#FDCEDF\" style=\"margin-right: 10px\"/>\n            <ColorTags v-if=\"t == 'Solo'\" :text=\"t\" color=\"#FFBE98\" style=\"margin-right: 10px\"/>\n            <ColorTags v-if=\"t == 'Family'\" :text=\"t\" color=\"#F5E8DD\" style=\"margin-right: 10px\"/>\n            <ColorTags v-if=\"t == 'Friends'\" :text=\"t\" color=\"#E3F4F4\" style=\"margin-right: 10px\"/></span>\n          </div>\n        </template>\n      </CardViewVue>\n    </div>\n    <h3>{{ user.preference2 }}</h3>\n    <div class=\"scrolls\">\n      <CardViewVue\n        v-for=\"activity in actCat(user.preference2)\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n      >\n        <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n        </template>\n      </CardViewVue>\n    </div>\n    <h3>{{ user.preference3 }}</h3>\n    <div class=\"scrolls\">\n      <CardViewVue\n        v-for=\"activity in actCat(user.preference3)\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n      >\n        <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n        </template>\n      </CardViewVue>\n    </div>\n  </div>\n</template>\n\n<script type=\"module\">\nimport axios from \"axios\";\nimport NavBarVue from \"../components/NavBar.vue\";\nimport CardViewVue from \"../components/CardView.vue\";\nimport ColorTags from \"@/components/ColorTags.vue\";\n\nexport default {\n  name: \"HomeView\",\n  components: {\n    NavBarVue,\n    CardViewVue,\n    ColorTags\n  },\n  data() {\n    return {\n      activities: [],\n      user: {},\n      searchParam: \"\",\n    };\n  },\n  methods: {\n    actCat(cat) {\n      return this.activities.filter((a) => a.Category === cat);\n    },\n    approved() {\n      return this.activities.filter((a) => a.Approved === true);\n    },\n    create() {\n      this.$router.push(\"/create\");\n    },\n    // filterAct(param){\n    //   return this.activities.filter((a)=> a.Act_name === param && a.Approved === true)\n    // }\n  },\n  async created() {\n    const response = await axios\n      .get(\"/api/\")\n      .then((response) => (this.activities = response.data));\n\n    // const activities = response.data;\n    // this.activities = activities;\n\n    console.log(response);\n  },\n  mounted() {\n    const i = localStorage.getItem(\"userID\");\n    console.log(i);\n    axios\n      .get(\"/api/users/\" + i)\n      .then((response) => (this.user = response.data));\n  },\n  computed: {\n    filteredAct: function () {\n      return this.activities.filter((a) => {\n        if (\n          this.searchParam !== null &&\n          this.searchParam !== undefined &&\n          this.searchParam !== \"\"\n        ) {\n          return (\n            a.Act_name &&\n            a.Act_name.toLowerCase().match(this.searchParam.toLowerCase()) &&\n            a.Approved === true\n          );\n        }\n        return a.Approved === true;\n      });\n      // return this.activities.filter((a) => a.Act_name.toLowerCase().match(this.searchParam.toLowerCase()) && a.Approved === true);\n    },\n  },\n};\n</script>\n\n<style scoped>\na {\n  color: #016a70;\n}\n.scrolls {\n  display: flex;\n  flex-wrap: no-wrap;\n  overflow-x: auto;\n  margin: 20px;\n}\n.welcomeMsg {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  /* justify-content: center; */\n  margin: 0;\n  padding: 30px;\n  background-color: #1fbfaf;\n  color: #fff;\n  height: 40vh;\n  width: 100%;\n  position: relative;\n  border-color: #fff;\n}\n.welcomeMsg h1 {\n  font-family: BungeeInline;\n  color: #fff;\n}\n\n.search-input {\n  border-radius: 30px;\n  height: 50px;\n  min-width: 70vw;\n  margin-top: 30px;\n  margin-bottom: 30px;\n}\n\n.search-container {\n  /* background-image: url(\"@/assets/Images/hong-kong-mountain-top-view.jpg\");\n  background-position: center center;\n  background-size: cover; */\n  background-color: #0c3b2e;\n  padding: 200px;\n  justify-content: center;\n  align-items: center;\n}\n\n.search-container::before {\n  background-color: rgba(0, 0, 0, 0.25);\n}\n\n.search-inner-container {\n  background: white;\n  padding: 30px;\n  border-radius: 20px;\n}\n\n.create-btn {\n  border-color: #fff;\n  color: #fff;\n}\n.create-btn:hover {\n  border-color: #ffdb64;\n  background-color: #ffdb64;\n  color: #06211e;\n}\n.svg {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n}\n</style>\n"],"mappings":";AAuJA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,0BAA0B;AAChD,OAAOC,WAAU,MAAO,4BAA4B;AACpD,OAAOC,SAAQ,MAAO,4BAA4B;AAElD,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVJ,SAAS;IACTC,WAAW;IACXC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,IAAI,EAAE,CAAC,CAAC;MACRC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,MAAMA,CAACC,GAAG,EAAE;MACV,OAAO,IAAI,CAACL,UAAU,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,QAAO,KAAMH,GAAG,CAAC;IAC1D,CAAC;IACDI,QAAQA,CAAA,EAAG;MACT,OAAO,IAAI,CAACT,UAAU,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACG,QAAO,KAAM,IAAI,CAAC;IAC3D,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,SAAS,CAAC;IAC9B;IACA;IACA;IACA;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,QAAO,GAAI,MAAMtB,KAAI,CACxBuB,GAAG,CAAC,OAAO,EACXC,IAAI,CAAEF,QAAQ,IAAM,IAAI,CAACf,UAAS,GAAIe,QAAQ,CAAChB,IAAK,CAAC;;IAExD;IACA;;IAEAmB,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;EACvB,CAAC;EACDK,OAAOA,CAAA,EAAG;IACR,MAAMC,CAAA,GAAIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACxCL,OAAO,CAACC,GAAG,CAACE,CAAC,CAAC;IACd5B,KAAI,CACDuB,GAAG,CAAC,aAAY,GAAIK,CAAC,EACrBJ,IAAI,CAAEF,QAAQ,IAAM,IAAI,CAACd,IAAG,GAAIc,QAAQ,CAAChB,IAAK,CAAC;EACpD,CAAC;EACDyB,QAAQ,EAAE;IACRC,WAAW,EAAE,SAAAA,CAAA,EAAY;MACvB,OAAO,IAAI,CAACzB,UAAU,CAACM,MAAM,CAAEC,CAAC,IAAK;QACnC,IACE,IAAI,CAACL,WAAU,KAAM,IAAG,IACxB,IAAI,CAACA,WAAU,KAAMwB,SAAQ,IAC7B,IAAI,CAACxB,WAAU,KAAM,EAAC,EACtB;UACA,OACEK,CAAC,CAACoB,QAAO,IACTpB,CAAC,CAACoB,QAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC3B,WAAW,CAAC0B,WAAW,CAAC,CAAC,KAC7DrB,CAAC,CAACG,QAAO,KAAM,IAAG;QAEtB;QACA,OAAOH,CAAC,CAACG,QAAO,KAAM,IAAI;MAC5B,CAAC,CAAC;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}