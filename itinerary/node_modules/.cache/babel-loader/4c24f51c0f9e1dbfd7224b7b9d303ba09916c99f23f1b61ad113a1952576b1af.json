{"ast":null,"code":"import NavBar from \"@/components/NavBar.vue\";\nimport HistCard from \"@/components/HistCard.vue\";\nimport axios from \"axios\";\nimport sortBy from \"lodash/sortBy\";\nexport default {\n  name: \"ItinHistory\",\n  components: {\n    NavBar,\n    HistCard\n  },\n  data() {\n    return {\n      plans: [],\n      ascendingOrder: false,\n      sortButtonContent: \"View in descending order\",\n      searchParam: \"\"\n    };\n  },\n  async created() {\n    const i = localStorage.getItem(\"userID\");\n    console.log(i);\n    const response = axios.get(\"/api/itinHistory/\" + i).then(response => this.plans = response.data);\n    console.log(response);\n  },\n  methods: {\n    sortingButton() {\n      this.ascendingOrder = !this.ascendingOrder;\n      this.sortButtonContent = this.ascendingOrder ? \"View in ascending order\" : \"View in descending order\";\n    }\n  },\n  computed: {\n    sortedPlans: function () {\n      const sorted = sortBy(this.plans, \"createdAt\");\n      const filtered = this.plans.filter(p => p.name.toLowerCase().match(this.searchParam.toLowerCase()));\n      return this.ascendingOrder ? sorted.filter(p => filtered.includes(p)) : sorted.reverse().filter(p => filtered.includes(p));\n    }\n  }\n};","map":{"version":3,"names":["NavBar","HistCard","axios","sortBy","name","components","data","plans","ascendingOrder","sortButtonContent","searchParam","created","i","localStorage","getItem","console","log","response","get","then","methods","sortingButton","computed","sortedPlans","sorted","filtered","filter","p","toLowerCase","match","includes","reverse"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/ItinHistory.vue"],"sourcesContent":["<template lang=\"\">\n  <div class=\"outer-container\">\n    <NavBar />\n    <div class=\"container\">\n      <nav style=\"--bs-breadcrumb-divider: '>'\" aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <a href=\"/\">Home</a>\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">\n            Itinerary History\n          </li>\n        </ol>\n      </nav>\n      <div class=\"sub-container\">\n        <h1 style=\"font-family: BungeeInline\">Check your planned trips!</h1>\n        <div class=\"row mt-4 searchBar\">\n          <input\n            type=\"text\"\n            name=\"\"\n            id=\"\"\n            class=\"form-control\"\n            v-model=\"searchParam\"\n            placeholder=\"search by itinerary name..\"\n          />\n        </div>\n        <div class=\"row mt-4\">\n          <button class=\"btn sort-btn\" @click=\"sortingButton\">\n            <span v-if=\"this.ascendingOrder === true\"\n              ><font-awesome-icon :icon=\"['fas', 'arrow-down-a-z']\"\n            /></span>\n            <span v-if=\"this.ascendingOrder === false\"\n              ><font-awesome-icon :icon=\"['fas', 'arrow-up-z-a']\"\n            /></span>\n            {{ sortButtonContent }}\n          </button>\n        </div>\n\n        <!-- <p>{{ plans }}</p> -->\n        <HistCard\n          v-for=\"plan in sortedPlans\"\n          :key=\"plan._id\"\n          :id=\"plan._id\"\n          :author=\"plan.authorName\"\n          :name=\"plan.name\"\n          :type=\"plan.type\"\n          :participants=\"plan.participants\"\n          :start=\"plan.from\"\n          :end=\"plan.to\"\n          :rating=\"plan.selectedRate\"\n          :view=\"plan.is_public\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport HistCard from \"@/components/HistCard.vue\";\nimport axios from \"axios\";\nimport sortBy from \"lodash/sortBy\";\n\nexport default {\n  name: \"ItinHistory\",\n  components: {\n    NavBar,\n    HistCard,\n  },\n  data() {\n    return {\n      plans: [],\n      ascendingOrder: false,\n      sortButtonContent: \"View in descending order\",\n      searchParam: \"\",\n    };\n  },\n  async created() {\n    const i = localStorage.getItem(\"userID\");\n    console.log(i);\n\n    const response = axios\n      .get(\"/api/itinHistory/\" + i)\n      .then((response) => (this.plans = response.data));\n\n    console.log(response);\n  },\n  methods: {\n    sortingButton() {\n      this.ascendingOrder = !this.ascendingOrder;\n      this.sortButtonContent = this.ascendingOrder\n        ? \"View in ascending order\"\n        : \"View in descending order\";\n    },\n  },\n  computed: {\n    sortedPlans: function () {\n      const sorted = sortBy(this.plans, \"createdAt\");\n      const filtered = this.plans.filter((p) =>\n        p.name.toLowerCase().match(this.searchParam.toLowerCase())\n      );\n      return this.ascendingOrder\n        ? sorted.filter((p) => filtered.includes(p))\n        : sorted.reverse().filter((p) => filtered.includes(p));\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin-top: 30px;\n}\n\n.sub-container {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #dcf2ec;\n  padding: 30px;\n}\n.sort-btn {\n  background-color: #016a70;\n  color: #fff;\n}\n.sort-btn:hover {\n  border-color: #ffdb64;\n  background-color: #ffdb64;\n  color: #a08843;\n  border-color: #a08843;\n}\n.searchBar {\n  width: 70%;\n}\n</style>\n"],"mappings":"AA0DA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,QAAO,MAAO,2BAA2B;AAChD,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,eAAe;AAElC,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,UAAU,EAAE;IACVL,MAAM;IACNC;EACF,CAAC;EACDK,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,cAAc,EAAE,KAAK;MACrBC,iBAAiB,EAAE,0BAA0B;MAC7CC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,CAAA,GAAIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACxCC,OAAO,CAACC,GAAG,CAACJ,CAAC,CAAC;IAEd,MAAMK,QAAO,GAAIf,KAAI,CAClBgB,GAAG,CAAC,mBAAkB,GAAIN,CAAC,EAC3BO,IAAI,CAAEF,QAAQ,IAAM,IAAI,CAACV,KAAI,GAAIU,QAAQ,CAACX,IAAK,CAAC;IAEnDS,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EACvB,CAAC;EACDG,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACd,IAAI,CAACb,cAAa,GAAI,CAAC,IAAI,CAACA,cAAc;MAC1C,IAAI,CAACC,iBAAgB,GAAI,IAAI,CAACD,cAAa,GACvC,yBAAwB,GACxB,0BAA0B;IAChC;EACF,CAAC;EACDc,QAAQ,EAAE;IACRC,WAAW,EAAE,SAAAA,CAAA,EAAY;MACvB,MAAMC,MAAK,GAAIrB,MAAM,CAAC,IAAI,CAACI,KAAK,EAAE,WAAW,CAAC;MAC9C,MAAMkB,QAAO,GAAI,IAAI,CAAClB,KAAK,CAACmB,MAAM,CAAEC,CAAC,IACnCA,CAAC,CAACvB,IAAI,CAACwB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAACnB,WAAW,CAACkB,WAAW,CAAC,CAAC,CAC3D,CAAC;MACD,OAAO,IAAI,CAACpB,cAAa,GACrBgB,MAAM,CAACE,MAAM,CAAEC,CAAC,IAAKF,QAAQ,CAACK,QAAQ,CAACH,CAAC,CAAC,IACzCH,MAAM,CAACO,OAAO,CAAC,CAAC,CAACL,MAAM,CAAEC,CAAC,IAAKF,QAAQ,CAACK,QAAQ,CAACH,CAAC,CAAC,CAAC;IAC1D;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}