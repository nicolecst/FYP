{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1d184df0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"outer-container\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<nav style=\\\"--bs-breadcrumb-divider:&#39;&gt;&#39;;\\\" aria-label=\\\"breadcrumb\\\" data-v-1d184df0><ol class=\\\"breadcrumb\\\" data-v-1d184df0><li class=\\\"breadcrumb-item\\\" data-v-1d184df0><a href=\\\"/\\\" data-v-1d184df0>Home</a></li><li class=\\\"breadcrumb-item active\\\" aria-current=\\\"page\\\" data-v-1d184df0>Itinerary History</li></ol></nav>\", 1);\nconst _hoisted_4 = {\n  class: \"sub-container\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  style: {\n    \"font-family\": \"BungeeInline\"\n  }\n}, \"Check your planned trips!\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  const _component_HistCard = _resolveComponent(\"HistCard\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createCommentVNode(\" <p>{{ plans }}</p> \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.plans, plan => {\n    return _openBlock(), _createBlock(_component_HistCard, {\n      key: plan._id,\n      id: plan._id,\n      author: plan.authorName,\n      name: plan.name,\n      type: plan.type,\n      participants: plan.participants,\n      start: plan.from,\n      end: plan.to,\n      rating: plan.selectedRate,\n      view: plan.is_public,\n      onDeleteItin: () => $options.deleteItinerary(plan._id)\n    }, null, 8 /* PROPS */, [\"id\", \"author\", \"name\", \"type\", \"participants\", \"start\", \"end\", \"rating\", \"view\", \"onDeleteItin\"]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createCommentVNode","_Fragment","_renderList","$data","plans","plan","_createBlock","_component_HistCard","key","_id","id","author","authorName","name","type","participants","start","from","end","to","rating","selectedRate","view","is_public","onDeleteItin","$options","deleteItinerary"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/ItinHistory.vue"],"sourcesContent":["<template lang=\"\">\n  <div class=\"outer-container\">\n    <NavBar />\n    <div class=\"container\">\n      <nav style=\"--bs-breadcrumb-divider: '>'\" aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <a href=\"/\">Home</a>\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">Itinerary History</li>\n        </ol>\n      </nav>\n      <div class=\"sub-container\">\n        <h1 style=\"font-family: BungeeInline\">Check your planned trips!</h1>\n        <!-- <p>{{ plans }}</p> -->\n        <HistCard\n          v-for=\"plan in plans\"\n          :key=\"plan._id\"\n          :id=\"plan._id\"\n          :author=\"plan.authorName\"\n          :name=\"plan.name\"\n          :type=\"plan.type\"\n          :participants=\"plan.participants\"\n          :start=\"plan.from\"\n          :end=\"plan.to\"\n          :rating=\"plan.selectedRate\"\n          :view=\"plan.is_public\"\n          @deleteItin=\"() => deleteItinerary(plan._id)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport HistCard from \"@/components/HistCard.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"ItinHistory\",\n  components: {\n    NavBar,\n    HistCard,\n  },\n  data() {\n    return {\n      plans: [],\n    };\n  },\n  async created() {\n    const i = localStorage.getItem(\"userID\");\n    console.log(i);\n\n    const response = axios\n      .get(\"/api/itinHistory/\" + i)\n      .then((response) => (this.plans = response.data));\n\n    console.log(response);\n  },\n  methods:{\n    async deleteItinerary(iid){\n      alert(\"hello!\")\n      alert(iid)\n      // try {\n      //   const response = await axios.delete(\"/api/delItin/\"+iid);\n      //   alert('Itinerary Deleted!')\n      //   location.reload();\n      //   return response.data;\n\n      // } catch (error) {\n      //   console.log(error);\n      // }\n      \n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  margin-top: 30px;\n}\n\n.sub-container{\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #DCF2EC;\n  padding: 30px;\n}\n\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAW;;;EASfA,KAAK,EAAC;AAAe;gEACxBC,mBAAA,CAAoE;EAAhEC,KAAiC,EAAjC;IAAA;EAAA;AAAiC,GAAC,2BAAyB;;;;uBAZrEC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJC,YAAA,CAAUC,iBAAA,GACVL,mBAAA,CA2BM,OA3BNM,UA2BM,GA1BJC,UAOM,EACNP,mBAAA,CAiBM,OAjBNQ,UAiBM,GAhBJC,UAAoE,EACpEC,mBAAA,wBAA2B,G,kBAC3BR,mBAAA,CAaES,SAAA,QAAAC,WAAA,CAZeC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBADbC,YAAA,CAaEC,mBAAA;MAXCC,GAAG,EAAEH,IAAI,CAACI,GAAG;MACbC,EAAE,EAAEL,IAAI,CAACI,GAAG;MACZE,MAAM,EAAEN,IAAI,CAACO,UAAU;MACvBC,IAAI,EAAER,IAAI,CAACQ,IAAI;MACfC,IAAI,EAAET,IAAI,CAACS,IAAI;MACfC,YAAY,EAAEV,IAAI,CAACU,YAAY;MAC/BC,KAAK,EAAEX,IAAI,CAACY,IAAI;MAChBC,GAAG,EAAEb,IAAI,CAACc,EAAE;MACZC,MAAM,EAAEf,IAAI,CAACgB,YAAY;MACzBC,IAAI,EAAEjB,IAAI,CAACkB,SAAS;MACpBC,YAAU,EAAAA,CAAA,KAAQC,QAAA,CAAAC,eAAe,CAACrB,IAAI,CAACI,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}