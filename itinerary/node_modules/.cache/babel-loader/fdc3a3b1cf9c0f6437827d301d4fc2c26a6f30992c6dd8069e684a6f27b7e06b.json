{"ast":null,"code":"import NavBar from \"@/components/NavBar.vue\";\nimport PlanCard from \"@/components/PlanCard.vue\";\nimport SubplanCard from \"@/components/SubplanCard.vue\";\nimport axios from \"axios\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  name: \"itindetailsUpdate\",\n  components: {\n    NavBar,\n    PlanCard,\n    SubplanCard\n  },\n  data() {\n    return {\n      history: [],\n      dateDiff: 0,\n      itinArray: []\n    };\n  },\n  methods: {\n    addDays(date, days) {\n      // Function to add Days\n      var result = new Date(date);\n      result.setDate(result.getDate() + days);\n      return result.toLocaleString();\n    },\n    weekdays(date, days) {\n      var result = new Date(date);\n      result.setDate(result.getDate() + days);\n      return result.toLocaleString(\"en-US\", {\n        weekday: \"long\"\n      });\n    }\n  },\n  mounted() {\n    const fetchData = async () => {\n      const route = useRoute();\n      const response = await axios.get(\"/api/history/\" + route.params.id).then(response => this.history = response.data);\n\n      // Calculate dateDiff based on the first and last items from the history array\n      const start = new Date(this.history.from).getTime();\n      const end = new Date(this.history.to).getTime();\n      const diff = end - start;\n      const dateDiff = Math.floor(diff / 86400000) + 1;\n      this.dateDiff = dateDiff;\n      console.log(response);\n      console.log(\"length: \" + this.history.dailyItin.length);\n      console.log(this.history.dailyItin[2]);\n      this.itinArray = this.history.dailyItin;\n      console.log(\"length2: \" + this.itinArray.length);\n      console.log(this.history.dailyItin[0]);\n    };\n    fetchData();\n  }\n};","map":{"version":3,"names":["NavBar","PlanCard","SubplanCard","axios","useRoute","name","components","data","history","dateDiff","itinArray","methods","addDays","date","days","result","Date","setDate","getDate","toLocaleString","weekdays","weekday","mounted","fetchData","route","response","get","params","id","then","start","from","getTime","end","to","diff","Math","floor","console","log","dailyItin","length"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/ItindetailsUpdate.vue"],"sourcesContent":["<template>\n  <div>\n    <NavBar />\n    <div class=\"container\">\n      <nav style=\"--bs-breadcrumb-divider: '>'\" aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <a href=\"/\">Home</a>\n          </li>\n          <li class=\"breadcrumb-item\">\n            <a href=\"/history\">Itinerary History</a>\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">\n            Edit Details\n          </li>\n        </ol>\n      </nav>\n    \n\n    <form action=\"\">\n      <div class=\"row mt-4\">\n        <div class=\"col md-4\">\n          <label for=\"\">Itinerary Name</label>\n          <input type=\"text\" class=\"form-control\" v-model=\"this.history.name\" disabled/>\n        </div>\n        <div class=\"col md-4\">\n          <label for=\"\">Participants</label>\n          <input\n            type=\"number\"\n            class=\"form-control\"\n            v-model=\"this.history.participants\"\n          />\n        </div>\n        <div class=\"col md-4\">\n          <label for=\"\">Participants</label>\n          <select name=\"\" id=\"\" class=\"form-control\" v-model=\"this.history.type\">\n            <option disabled>Choose the trip type..</option>\n            <option>Solo</option>\n            <option>Couple</option>\n            <option>Friends</option>\n            <option>Family</option>\n          </select>\n        </div>\n      </div>\n    </form>\n\n    <div class=\"scrolls\">\n      <PlanCard\n        v-for=\"(n, i) in dateDiff\"\n        :key=\"n\"\n        :n=\"n\"\n        :start=\"addDays(this.history.from, i)\"\n        :daysOfWeek=\"weekdays(this.history.from, i)\"\n      >\n        <div v-for=\"(row, rowIndex) in itinArray[i]\" :key=\"rowIndex\">\n          <div v-for=\"(element, columnIndex) in row\" :key=\"columnIndex\">\n            <SubplanCard\n              :actName=\"element.act_name\"\n              :location=\"element.location\"\n              :sTime=\"element.startTime\"\n              :eTime=\"element.endTime\"\n              :memo=\"element.memo\"\n            >\n            </SubplanCard>\n          </div>\n        </div>\n      </PlanCard>\n    </div>\n    <button>Update</button>\n  </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport PlanCard from \"@/components/PlanCard.vue\";\nimport SubplanCard from \"@/components/SubplanCard.vue\";\nimport axios from \"axios\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  name: \"itindetailsUpdate\",\n  components: {\n    NavBar,\n    PlanCard,\n    SubplanCard,\n  },\n  data() {\n    return {\n      history: [],\n      dateDiff: 0,\n      itinArray: [],\n    };\n  },\n  methods: {\n    addDays(date, days) {\n      // Function to add Days\n      var result = new Date(date);\n      result.setDate(result.getDate() + days);\n      return result.toLocaleString();\n    },\n    weekdays(date, days) {\n      var result = new Date(date);\n      result.setDate(result.getDate() + days);\n      return result.toLocaleString(\"en-US\", { weekday: \"long\" });\n    },\n  },\n  mounted() {\n    const fetchData = async () => {\n      const route = useRoute();\n      const response = await axios\n        .get(\"/api/history/\" + route.params.id)\n        .then((response) => (this.history = response.data));\n\n      // Calculate dateDiff based on the first and last items from the history array\n      const start = new Date(this.history.from).getTime();\n      const end = new Date(this.history.to).getTime();\n      const diff = end - start;\n      const dateDiff = Math.floor(diff / 86400000) + 1;\n      this.dateDiff = dateDiff;\n      console.log(response);\n      console.log(\"length: \" + this.history.dailyItin.length);\n      console.log(this.history.dailyItin[2]);\n\n      this.itinArray = this.history.dailyItin;\n      console.log(\"length2: \" + this.itinArray.length);\n      console.log(this.history.dailyItin[0]);\n    };\n    fetchData();\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  margin-top: 30px;\n}\n.scrolls {\n  display: flex;\n  flex-wrap: no-wrap;\n  overflow-x: auto;\n  margin: 20px;\n}\n</style>\n"],"mappings":"AA0EA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,QAAO,MAAO,2BAA2B;AAChD,OAAOC,WAAU,MAAO,8BAA8B;AACtD,OAAOC,KAAI,MAAO,OAAO;AACzB,SAASC,QAAO,QAAS,YAAY;AACrC,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IACVN,MAAM;IACNC,QAAQ;IACRC;EACF,CAAC;EACDK,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,CAAC;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAACC,IAAI,EAAEC,IAAI,EAAE;MAClB;MACA,IAAIC,MAAK,GAAI,IAAIC,IAAI,CAACH,IAAI,CAAC;MAC3BE,MAAM,CAACE,OAAO,CAACF,MAAM,CAACG,OAAO,CAAC,IAAIJ,IAAI,CAAC;MACvC,OAAOC,MAAM,CAACI,cAAc,CAAC,CAAC;IAChC,CAAC;IACDC,QAAQA,CAACP,IAAI,EAAEC,IAAI,EAAE;MACnB,IAAIC,MAAK,GAAI,IAAIC,IAAI,CAACH,IAAI,CAAC;MAC3BE,MAAM,CAACE,OAAO,CAACF,MAAM,CAACG,OAAO,CAAC,IAAIJ,IAAI,CAAC;MACvC,OAAOC,MAAM,CAACI,cAAc,CAAC,OAAO,EAAE;QAAEE,OAAO,EAAE;MAAO,CAAC,CAAC;IAC5D;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,SAAQ,GAAI,MAAAA,CAAA,KAAY;MAC5B,MAAMC,KAAI,GAAIpB,QAAQ,CAAC,CAAC;MACxB,MAAMqB,QAAO,GAAI,MAAMtB,KAAI,CACxBuB,GAAG,CAAC,eAAc,GAAIF,KAAK,CAACG,MAAM,CAACC,EAAE,EACrCC,IAAI,CAAEJ,QAAQ,IAAM,IAAI,CAACjB,OAAM,GAAIiB,QAAQ,CAAClB,IAAK,CAAC;;MAErD;MACA,MAAMuB,KAAI,GAAI,IAAId,IAAI,CAAC,IAAI,CAACR,OAAO,CAACuB,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC;MACnD,MAAMC,GAAE,GAAI,IAAIjB,IAAI,CAAC,IAAI,CAACR,OAAO,CAAC0B,EAAE,CAAC,CAACF,OAAO,CAAC,CAAC;MAC/C,MAAMG,IAAG,GAAIF,GAAE,GAAIH,KAAK;MACxB,MAAMrB,QAAO,GAAI2B,IAAI,CAACC,KAAK,CAACF,IAAG,GAAI,QAAQ,IAAI,CAAC;MAChD,IAAI,CAAC1B,QAAO,GAAIA,QAAQ;MACxB6B,OAAO,CAACC,GAAG,CAACd,QAAQ,CAAC;MACrBa,OAAO,CAACC,GAAG,CAAC,UAAS,GAAI,IAAI,CAAC/B,OAAO,CAACgC,SAAS,CAACC,MAAM,CAAC;MACvDH,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC/B,OAAO,CAACgC,SAAS,CAAC,CAAC,CAAC,CAAC;MAEtC,IAAI,CAAC9B,SAAQ,GAAI,IAAI,CAACF,OAAO,CAACgC,SAAS;MACvCF,OAAO,CAACC,GAAG,CAAC,WAAU,GAAI,IAAI,CAAC7B,SAAS,CAAC+B,MAAM,CAAC;MAChDH,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC/B,OAAO,CAACgC,SAAS,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IACDjB,SAAS,CAAC,CAAC;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}