{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-a086b84c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"This is the admin home page\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Waiting for approval...\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  class: \"scrolls\"\n};\nconst _hoisted_5 = {\n  style: {\n    \"margin-bottom\": \"8px\"\n  }\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Approved activities\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"container\"\n};\nconst _hoisted_8 = {\n  style: {\n    \"margin-bottom\": \"8px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBarVue = _resolveComponent(\"NavBarVue\");\n  const _component_CardViewVue = _resolveComponent(\"CardViewVue\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_NavBarVue), _hoisted_1, _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.notApproved().slice(0, 10), activity => {\n    return _openBlock(), _createBlock(_component_CardViewVue, {\n      key: activity._id,\n      actname: activity.Act_name,\n      area: activity.Area,\n      district: activity.District,\n      category: activity.Category,\n      charge: activity.Charge,\n      act_ID: activity._id,\n      approved: activity.Approved,\n      onDeleteAct: $options.deleteAct\n    }, {\n      type: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createTextVNode(\" Type: \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(activity.Type, t => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: t\n        }, _toDisplayString(t) + \", \", 1 /* TEXT */);\n      }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" <div><p>File:{{ activity.file.length }}</p></div> \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"actname\", \"area\", \"district\", \"category\", \"charge\", \"act_ID\", \"approved\", \"onDeleteAct\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _hoisted_6, _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.approved(), activity => {\n    return _openBlock(), _createBlock(_component_CardViewVue, {\n      key: activity._id,\n      actname: activity.Act_name,\n      area: activity.Area,\n      district: activity.District,\n      category: activity.Category,\n      charge: activity.Charge,\n      act_ID: activity._id,\n      onDeleteAct: $event => $options.deleteAct(activity._id)\n    }, {\n      type: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createTextVNode(\" Type: \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(activity.Type, t => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: t\n        }, _toDisplayString(t) + \", \", 1 /* TEXT */);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"actname\", \"area\", \"district\", \"category\", \"charge\", \"act_ID\", \"onDeleteAct\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" <p>{{ activities }}</p> \")]);\n}","map":{"version":3,"names":["_createElementVNode","class","style","_createElementBlock","_createVNode","_component_NavBarVue","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$options","notApproved","slice","activity","_createBlock","_component_CardViewVue","key","_id","actname","Act_name","area","Area","district","District","category","Category","charge","Charge","act_ID","approved","Approved","onDeleteAct","deleteAct","type","_withCtx","_hoisted_5","Type","t","_toDisplayString","_createCommentVNode","_hoisted_6","_hoisted_7","$event","_hoisted_8"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/AdminHome.vue"],"sourcesContent":["<template>\n  <div>\n    <NavBarVue />\n    <h1>This is the admin home page</h1>\n    <h1>Waiting for approval...</h1>\n    <div class=\"container\">\n      <div class=\"scrolls\">\n        <CardViewVue\n          v-for=\"activity in notApproved().slice(0, 10)\"\n          :key=\"activity._id\"\n          :actname=\"activity.Act_name\"\n          :area=\"activity.Area\"\n          :district=\"activity.District\"\n          :category=\"activity.Category\"\n          :charge=\"activity.Charge\"\n          :act_ID=\"activity._id\"\n          :approved=\"activity.Approved\"\n          @deleteAct=\"deleteAct\"\n        >\n        <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n          <!-- <div><p>File:{{ activity.file.length }}</p></div> -->\n        </template>\n      </CardViewVue>\n      </div>\n    </div>\n    <h1>Approved activities</h1>\n    <div class=\"container\">\n      <CardViewVue\n        v-for=\"activity in approved()\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n        @deleteAct=\"deleteAct(activity._id)\"\n      >\n      <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n        </template>\n    </CardViewVue>\n    </div>\n\n    <!-- <p>{{ activities }}</p> -->\n  </div>\n</template>\n\n<script>\nimport NavBarVue from \"@/components/NavBar.vue\";\nimport CardViewVue from \"@/components/CardView.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"AdminHome\",\n  components: {\n    NavBarVue,\n    CardViewVue,\n  },\n  data() {\n    return {\n      activities: [],\n      currentPage: 1,\n      totalPages: 1,\n      itemsPerPage: 10,\n    };\n  },\n  methods: {\n    notApproved() {\n      return this.activities.filter((a) => a.Approved === false);\n    },\n    approved() {\n      return this.activities.filter((a) => a.Approved === true);\n    },\n    fetchItems() {\n      // Make an HTTP request to the Node.js API endpoint\n      axios\n        .get(\"/api/allAct\", {\n          params: {\n            page: this.currentPage,\n            limit: this.itemsPerPage,\n          },\n        })\n        .then((response) => {\n          // Ensure the response data structure matches your expectation\n          const { activities, currentPage, totalPages } = response.data;\n\n          // Assign the data to the component's properties\n          this.activities = activities;\n          this.currentPage = currentPage;\n          this.totalPages = totalPages;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    previousPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.fetchItems();\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n        this.fetchItems();\n      }\n    },\n     async deleteAct(aid){\n      alert(\"delete!\")\n      alert(aid)\n      try {\n        const response = await axios.delete(\"/api/deletAct/\"+aid);\n        alert('Activity Deleted!')\n        location.reload();\n        return response.data;\n\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  computed: {\n    paginatedItems() {\n      return this.activities.slice(\n        (this.currentPage - 1) * this.itemsPerPage,\n        this.currentPage * this.itemsPerPage\n      );\n    },\n  },\n  mounted() {\n    this.fetchItems();\n  },\n  // async created() {\n  //   await axios\n  //     .get(\"/api/\")\n  //     .then((response) => (this.activities = response.data));\n  // },\n};\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.scrolls {\n  display: flex;\n  flex-wrap: no-wrap;\n  overflow-x: auto;\n  margin: 20px;\n}\n</style>\n"],"mappings":";;gEAGIA,mBAAA,CAAoC,YAAhC,6BAA2B;gEAC/BA,mBAAA,CAAgC,YAA5B,yBAAuB;;EACtBC,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAS;;EAcXC,KAA0B,EAA1B;IAAA;EAAA;AAA0B;gEAQrCF,mBAAA,CAA4B,YAAxB,qBAAmB;;EAClBC,KAAK,EAAC;AAAW;;EAaXC,KAA0B,EAA1B;IAAA;EAAA;AAA0B;;;;uBAzCvCC,mBAAA,CAiDM,cAhDJC,YAAA,CAAaC,oBAAA,GACbC,UAAoC,EACpCC,UAAgC,EAChCP,mBAAA,CAsBM,OAtBNQ,UAsBM,GArBJR,mBAAA,CAoBM,OApBNS,UAoBM,I,kBAnBJN,mBAAA,CAkBYO,SAAA,QAAAC,WAAA,CAjBSC,QAAA,CAAAC,WAAW,GAAGC,KAAK,SAA/BC,QAAQ;yBADjBC,YAAA,CAkBYC,sBAAA;MAhBTC,GAAG,EAAEH,QAAQ,CAACI,GAAG;MACjBC,OAAO,EAAEL,QAAQ,CAACM,QAAQ;MAC1BC,IAAI,EAAEP,QAAQ,CAACQ,IAAI;MACnBC,QAAQ,EAAET,QAAQ,CAACU,QAAQ;MAC3BC,QAAQ,EAAEX,QAAQ,CAACY,QAAQ;MAC3BC,MAAM,EAAEb,QAAQ,CAACc,MAAM;MACvBC,MAAM,EAAEf,QAAQ,CAACI,GAAG;MACpBY,QAAQ,EAAEhB,QAAQ,CAACiB,QAAQ;MAC3BC,WAAS,EAAErB,QAAA,CAAAsB;;MAEHC,IAAI,EAAAC,QAAA,CACb,MAEM,CAFNpC,mBAAA,CAEM,OAFNqC,UAEM,G,iBAF0B,SACxB,I,kBAAAlC,mBAAA,CAA0DO,SAAA,QAAAC,WAAA,CAAxCI,QAAQ,CAACuB,IAAI,EAAlBC,CAAC;6BAAdpC,mBAAA,CAA0D;UAAxBe,GAAG,EAAEqB;QAAC,GAAAC,gBAAA,CAAKD,CAAC,IAAG,IAAE;wCAE3DE,mBAAA,uDAA0D,C;;;sCAKhEC,UAA4B,EAC5B1C,mBAAA,CAkBM,OAlBN2C,UAkBM,I,kBAjBJxC,mBAAA,CAgBYO,SAAA,QAAAC,WAAA,CAfSC,QAAA,CAAAmB,QAAQ,IAApBhB,QAAQ;yBADjBC,YAAA,CAgBYC,sBAAA;MAdTC,GAAG,EAAEH,QAAQ,CAACI,GAAG;MACjBC,OAAO,EAAEL,QAAQ,CAACM,QAAQ;MAC1BC,IAAI,EAAEP,QAAQ,CAACQ,IAAI;MACnBC,QAAQ,EAAET,QAAQ,CAACU,QAAQ;MAC3BC,QAAQ,EAAEX,QAAQ,CAACY,QAAQ;MAC3BC,MAAM,EAAEb,QAAQ,CAACc,MAAM;MACvBC,MAAM,EAAEf,QAAQ,CAACI,GAAG;MACpBc,WAAS,EAAAW,MAAA,IAAEhC,QAAA,CAAAsB,SAAS,CAACnB,QAAQ,CAACI,GAAG;;MAEzBgB,IAAI,EAAAC,QAAA,CACX,MAEM,CAFNpC,mBAAA,CAEM,OAFN6C,UAEM,G,iBAF0B,SACxB,I,kBAAA1C,mBAAA,CAA0DO,SAAA,QAAAC,WAAA,CAAxCI,QAAQ,CAACuB,IAAI,EAAlBC,CAAC;6BAAdpC,mBAAA,CAA0D;UAAxBe,GAAG,EAAEqB;QAAC,GAAAC,gBAAA,CAAKD,CAAC,IAAG,IAAE;;;;oCAMjEE,mBAAA,6BAAgC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}