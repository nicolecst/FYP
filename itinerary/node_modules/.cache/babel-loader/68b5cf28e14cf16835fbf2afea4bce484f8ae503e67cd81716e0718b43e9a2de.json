{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-expressions */\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar CONTENTTABLE = 'e-content-table';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar FOCUSEDCELL = 'e-focused-cell';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */function (_super) {\n  __extends(CalendarBase, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function CalendarBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.previousDates = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.render = function () {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n    this.globalize = new Internationalization(this.locale);\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n      attributes(this.calendarElement, {\n        'data-role': 'calendar'\n      });\n    }\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  };\n  CalendarBase.prototype.rangeValidation = function (min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  };\n  CalendarBase.prototype.validateDate = function (value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  };\n  CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n  CalendarBase.prototype.minMaxUpdate = function (value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  };\n  CalendarBase.prototype.createHeader = function () {\n    var ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    var ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    var ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    var tabIndexAttr = {\n      'tabindex': '0'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    var iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    attributes(this.previousIcon, tabIndexAttr);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    if (this.getModuleName() === 'daterangepicker') {\n      attributes(this.previousIcon, {\n        tabIndex: '-1'\n      });\n      attributes(this.nextIcon, {\n        tabIndex: '-1'\n      });\n    }\n    attributes(this.nextIcon, ariaNextAttrs);\n    attributes(this.nextIcon, tabIndexAttr);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    attributes(this.headerTitleElement, tabIndexAttr);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n    this.adjustLongHeaderSize();\n  };\n  CalendarBase.prototype.createContent = function () {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        'class': CONTENTTABLE,\n        'tabIndex': '0',\n        'role': 'grid',\n        'aria-activedescendant': '',\n        'aria-labelledby': this.element.id\n      }\n    });\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n    if (this.getModuleName() != 'daterangepicker') {\n      EventHandler.add(this.table, 'focus', this.addContentFocus, this);\n      EventHandler.add(this.table, 'blur', this.removeContentFocus, this);\n    }\n  };\n  CalendarBase.prototype.addContentFocus = function (args) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    if (!isNullOrUndefined(selectedDate)) {\n      selectedDate.classList.add(FOCUSEDCELL);\n    } else if (!isNullOrUndefined(focusedDate)) {\n      focusedDate.classList.add(FOCUSEDCELL);\n    }\n  };\n  CalendarBase.prototype.removeContentFocus = function (args) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    if (!isNullOrUndefined(selectedDate)) {\n      selectedDate.classList.remove(FOCUSEDCELL);\n    } else if (!isNullOrUndefined(focusedDate)) {\n      focusedDate.classList.remove(FOCUSEDCELL);\n    }\n  };\n  CalendarBase.prototype.getCultureValues = function () {\n    var culShortNames = [];\n    var cldrObj;\n    var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n    if (!isNullOrUndefined(cldrObj)) {\n      for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n        var obj = _a[_i];\n        culShortNames.push(getValue(obj, cldrObj));\n      }\n    }\n    return culShortNames;\n  };\n  CalendarBase.prototype.toCapitalize = function (text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  };\n  CalendarBase.prototype.createContentHeader = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n    var daysCount = 6;\n    var html = '';\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\" aria-hidden=\"true\"></th>';\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    }\n    // eslint-disable-next-line max-len\n    var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek) : null;\n    if (!isNullOrUndefined(shortNames)) {\n      for (var days = 0; days <= daysCount; days++) {\n        html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n      }\n    }\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  };\n  CalendarBase.prototype.createContentBody = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n      case 'Decade':\n        this.renderDecades();\n        break;\n      default:\n        this.renderMonths();\n    }\n  };\n  CalendarBase.prototype.updateFooter = function () {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    this.todayElement.setAttribute('tabindex', '0');\n  };\n  CalendarBase.prototype.createContentFooter = function () {\n    if (this.showTodayButton) {\n      var minimum = new Date(+this.min);\n      var maximum = new Date(+this.max);\n      var l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  };\n  CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  };\n  CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  };\n  CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  };\n  CalendarBase.prototype.resetCalendar = function () {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  };\n  CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate;\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n    var view = this.getViewNumber(this.currentView());\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n    switch (e.action) {\n      case 'moveLeft':\n        if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n          this.keyboardNavigate(-1, view, e, this.max, this.min);\n          e.preventDefault();\n        }\n        break;\n      case 'moveRight':\n        if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n          this.keyboardNavigate(1, view, e, this.max, this.min);\n          e.preventDefault();\n        }\n        break;\n      case 'moveUp':\n        if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n          if (view === 0) {\n            this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n          } else {\n            this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n          }\n          e.preventDefault();\n        }\n        break;\n      case 'moveDown':\n        if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n          if (view === 0) {\n            this.keyboardNavigate(7, view, e, this.max, this.min);\n          } else {\n            this.keyboardNavigate(4, view, e, this.max, this.min);\n          }\n          e.preventDefault();\n        }\n        break;\n      case 'select':\n        if (e.target === this.headerTitleElement) {\n          this.navigateTitle(e);\n        } else if (e.target === this.previousIcon) {\n          this.navigatePrevious(e);\n        } else if (e.target === this.nextIcon) {\n          this.navigateNext(e);\n        } else if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n          if (this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') {\n            this.element.focus();\n          }\n        } else {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              var d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n            if (this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') {\n              this.element.focus();\n            }\n          }\n        }\n        break;\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n        e.preventDefault();\n        break;\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n      case 'tab':\n        if ((this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') && e.target === this.todayElement) {\n          e.preventDefault();\n          this.element.focus();\n          this.hide();\n        }\n        break;\n      case 'shiftTab':\n        if ((this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') && e.target === this.headerTitleElement) {\n          e.preventDefault();\n          this.element.focus();\n          this.hide();\n        }\n        break;\n    }\n  };\n  CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n    var date = new Date(this.checkValue(this.currentDate));\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n      case 1:\n        this.addMonths(this.currentDate, number);\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n        break;\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.preRender = function (value) {\n    var _this = this;\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.navigateHandler = function (e) {\n      _this.triggerNavigate(e);\n    };\n  };\n  CalendarBase.prototype.minMaxDate = function (localDate) {\n    var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n    return localDate;\n  };\n  CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n    var numCells = this.weekNumber ? 8 : 7;\n    var tdEles;\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n    this.createContentHeader();\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  };\n  CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    var localDate = new Date(this.checkValue(currentDate));\n    var minMaxDate;\n    var currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    var d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.createElement('td', {\n        className: CELL\n      });\n      var weekAnchor = this.createElement('span');\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.dayCell(localDate);\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      var disabled = this.min > localDate || this.max < localDate;\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n        dayLink.setAttribute('aria-disabled', 'true');\n      }\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n      if (argument.isDisabled) {\n        var selectDate = new Date(this.checkValue(value));\n        var argsDate = new Date(this.checkValue(argument.date));\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n        dayLink.setAttribute('aria-disabled', 'true');\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      var disabledCls = tdEle.classList.contains(DISABLED);\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var currentTarget = void 0;\n      if (!isNullOrUndefined(e) && e.type === 'click') {\n        currentTarget = e.currentTarget;\n      }\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (var tempValue = 0; tempValue < values.length; tempValue++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(localDate, formatOptions);\n          var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          }\n          if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n            removeClass([tdEle], SELECTED);\n            this.previousDates = false;\n            var copyValues = this.copyValues(values);\n            for (var i = 0; i < copyValues.length; i++) {\n              var type_1 = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n              var formatOptions_1 = {\n                format: null,\n                type: 'date',\n                skeleton: 'short',\n                calendar: type_1\n              };\n              var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n              var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n              if (localDateString_1 === tempDateString_1) {\n                var index = copyValues.indexOf(copyValues[i]);\n                copyValues.splice(index, 1);\n                values.splice(index, 1);\n              }\n            }\n            this.setProperties({\n              values: copyValues\n            }, true);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      if (!isNullOrUndefined(date) && date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n    return tdEles;\n  };\n  CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n      // eslint-disable-next-line radix\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  };\n  CalendarBase.prototype.renderYears = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.checkValue(this.currentDate));\n    var mon = curDate.getMonth();\n    var yr = curDate.getFullYear();\n    var localDate = curDate;\n    var curYrs = localDate.getFullYear();\n    var minYr = new Date(this.checkValue(this.min)).getFullYear();\n    var minMonth = new Date(this.checkValue(this.min)).getMonth();\n    var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n    for (var month = 0; month < 12; ++month) {\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      var localMonth = value && value.getMonth() === localDate.getMonth();\n      var select = value && value.getFullYear() === yr && localMonth;\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        format: 'MMM y'\n      });\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n        dayLink.setAttribute('title', '' + title);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  };\n  CalendarBase.prototype.renderDecades = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    var endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    var startYear = start.getFullYear();\n    for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      var year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n        dayLink.setAttribute('aria-disabled', 'true');\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n        dayLink.setAttribute('title', '' + dayLink.textContent);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n  CalendarBase.prototype.dayCell = function (localDate) {\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    var value;\n    if (!isNullOrUndefined(date)) {\n      value = date.valueOf();\n    }\n    var attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false'\n      }\n    };\n    return this.createElement('td', attrs);\n  };\n  CalendarBase.prototype.firstDay = function (date) {\n    var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n    if (collection.length) {\n      for (var i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.lastDay = function (date, view) {\n    var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n    if (view !== 2) {\n      var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  };\n  CalendarBase.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n  CalendarBase.prototype.findLastDay = function (date) {\n    var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n    if (collection.length) {\n      for (var i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.removeTableHeadElement = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.getViewNumber(this.currentView());\n    var trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowIterator = 0;\n    for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr');\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n        trEle.appendChild(elements[rowIterator]);\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n    this.table.querySelector('tbody').className = this.effect;\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n    this.setAriaActiveDescendant();\n  };\n  CalendarBase.prototype.clickHandler = function (e, value) {\n    this.clickEventEmitter(e);\n    var eve = e.currentTarget;\n    var view = this.getViewNumber(this.currentView());\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  // Content click event handler required for extended components\n  CalendarBase.prototype.clickEventEmitter = function (e) {\n    e.preventDefault();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.contentClick = function (e, view, element, value) {\n    var currentView = this.getViewNumber(this.currentView());\n    var d = this.getIdValue(e, element);\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n        break;\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.islamicPreviousHeader = this.headerElement.textContent;\n            var islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n    }\n  };\n  CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n        break;\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n  CalendarBase.prototype.getModuleName = function () {\n    return 'calendar';\n  };\n  /**\n   *\n   * @returns {void}\n    */\n  CalendarBase.prototype.requiredModules = function () {\n    var modules = [];\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n    return modules;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n          break;\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n          this.adjustLongHeaderSize();\n          break;\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n          this.minMaxUpdate();\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n          break;\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          break;\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          if (this.getModuleName() === 'calendar') {\n            var l10nLocale = {\n              today: 'Today'\n            };\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n          }\n          this.l10.setLocale(this.locale);\n          if (this.showTodayButton) {\n            this.updateFooter();\n          }\n          break;\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  };\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n  CalendarBase.prototype.validateValues = function (multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      var copyValues = this.copyValues(values);\n      for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        var tempValue = copyValues[skipIndex];\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var tempValueString = void 0;\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n        var minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        var minString = minStringValue;\n        var maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        var maxString = maxStringValue;\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  };\n  CalendarBase.prototype.setValueUpdate = function () {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  };\n  CalendarBase.prototype.copyValues = function (values) {\n    var copyValues = [];\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (var index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n    return copyValues;\n  };\n  CalendarBase.prototype.titleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.locale);\n    var dayFormatOptions;\n    var monthFormatOptions;\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  };\n  CalendarBase.prototype.setActiveDescendant = function () {\n    var id;\n    var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var title;\n    var view = this.currentView();\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n    return id;\n  };\n  CalendarBase.prototype.iconHandler = function () {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  CalendarBase.prototype.destroy = function () {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n    if (this.getModuleName() === 'calendar' && this.element) {\n      if (!isNullOrUndefined(this.headerTitleElement)) {\n        EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n      }\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n    this.todayElement = null;\n    this.tableBodyElement = null;\n    this.todayButtonEvent = null;\n    this.renderDayCellArgs = null;\n    this.headerElement = null;\n    this.nextIcon = null;\n    this.table = null;\n    this.tableHeadElement = null;\n    this.previousIcon = null;\n    this.headerTitleElement = null;\n    this.footer = null;\n    this.contentElement = null;\n    _super.prototype.destroy.call(this);\n  };\n  CalendarBase.prototype.title = function (e) {\n    var currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  };\n  CalendarBase.prototype.getViewNumber = function (stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n  CalendarBase.prototype.navigateTitle = function (e) {\n    e.preventDefault();\n    this.title(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.previous = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigatePrevious = function (e) {\n    !Browser.isDevice && e.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n    this.triggerNavigate(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.next = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigateNext = function (eve) {\n    !Browser.isDevice && eve.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n    this.triggerNavigate(eve);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n  CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.currentView = function () {\n    if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  CalendarBase.prototype.getDateVal = function (date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.getCultureObjects = function (ld, c) {\n    var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var mainVal = 'main.';\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  };\n  CalendarBase.prototype.getWeek = function (d) {\n    var currentDate = new Date(this.checkValue(d)).valueOf();\n    var date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  };\n  CalendarBase.prototype.setStartDate = function (date, time) {\n    var tzOffset = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  };\n  CalendarBase.prototype.addMonths = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  };\n  CalendarBase.prototype.addYears = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  };\n  CalendarBase.prototype.getIdValue = function (e, element) {\n    var eve;\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    };\n    // eslint-disable-next-line radix\n    var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    var date = this.globalize.parseDate(dateString, dateFormatOptions);\n    var value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value);\n    //return this.globalize.parseDate(dateString, dateFormatOptions);\n  };\n  CalendarBase.prototype.adjustLongHeaderSize = function () {\n    removeClass([this.element], DAYHEADERLONG);\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  };\n  CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n    var element = node || e.currentTarget;\n    this.isDateSelected = false;\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        var copyValues = this.copyValues(values);\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n      this.currentDate = new Date(this.checkValue(date));\n    }\n    var tableBodyElement = closest(element, '.' + ROOT);\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n    if (multiSelection) {\n      var copyValues = this.copyValues(values);\n      var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n      for (var index = 0; index < collection.length; index++) {\n        var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n        for (var i = 0; i < copyValues.length; i++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(date, formatOptions);\n          var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n          if (localDateString === tempDateString) {\n            var index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n    this.isDateSelected = true;\n  };\n  CalendarBase.prototype.checkPresentDate = function (dates, values) {\n    var previousValue = false;\n    if (!isNullOrUndefined(values)) {\n      for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n    return previousValue;\n  };\n  CalendarBase.prototype.setAriaActiveDescendant = function () {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  };\n  CalendarBase.prototype.previousIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n        addClass([this.previousIcon], '' + DISABLED);\n        addClass([this.previousIcon], '' + OVERLAY);\n        this.previousIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.renderDayCellEvent = function (args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n  CalendarBase.prototype.navigatedEvent = function (eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  };\n  CalendarBase.prototype.triggerNavigate = function (event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  };\n  CalendarBase.prototype.nextIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n        addClass([this.nextIcon], DISABLED);\n        addClass([this.nextIcon], OVERLAY);\n        this.nextIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n    var start = endDate.getFullYear();\n    var end;\n    var result;\n    end = start;\n    result = 0;\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.isMinMaxRange = function (date) {\n    return +date >= +this.min && +date <= +this.max;\n  };\n  CalendarBase.prototype.isMonthYearRange = function (date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  };\n  CalendarBase.prototype.compareYear = function (start, end) {\n    return this.compare(start, end, 0);\n  };\n  CalendarBase.prototype.compareDecade = function (start, end) {\n    return this.compare(start, end, 10);\n  };\n  CalendarBase.prototype.shiftArray = function (array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  };\n  CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n    var column = i;\n    var value = new Date(+date);\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n      var rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n    date.setDate(date.getDate() + column);\n  };\n  CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n    var value = new Date(date.setDate(date.getDate() + column));\n    var collection = [];\n    var isDisabled = false;\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      var tdEles = void 0;\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n      collection = tdEles.filter(function (element) {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n    return isDisabled;\n  };\n  CalendarBase.prototype.getMaxDays = function (d) {\n    var date;\n    var tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    var month = tmpDate.getMonth();\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n    return date - 1;\n  };\n  CalendarBase.prototype.setDateDecade = function (date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.setDateYear = function (date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.compareMonth = function (start, end) {\n    var result;\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.checkValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n  CalendarBase.prototype.checkView = function () {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDate = function (date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n    return date;\n  };\n  __decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n  __decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n  __decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n  __decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n  __decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n  CalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n  return CalendarBase;\n}(Component);\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */function (_super) {\n  __extends(Calendar, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Calendar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.render = function () {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var tempValues = [];\n      var copyValues = [];\n      for (var limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      for (var index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            var copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n    this.validateDate();\n    this.minMaxUpdate();\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n    _super.prototype.render.call(this);\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n    this.renderComplete();\n  };\n  Calendar.prototype.setEnable = function (enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  };\n  Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  };\n  Calendar.prototype.isDayLightSaving = function () {\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n  Calendar.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var serverTimezoneDiff = offsetValue;\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  };\n  Calendar.prototype.formResetHandler = function () {\n    this.setProperties({\n      value: null\n    }, true);\n  };\n  Calendar.prototype.validateDate = function () {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n    _super.prototype.validateDate.call(this, this.value);\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n  Calendar.prototype.minMaxUpdate = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        _super.prototype.minMaxUpdate.call(this, this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          _super.prototype.minMaxUpdate.call(this, this.max);\n        }\n      }\n    } else {\n      _super.prototype.minMaxUpdate.call(this, this.value);\n    }\n  };\n  Calendar.prototype.generateTodayVal = function (value) {\n    var tempValue = new Date();\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n    }\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n    return tempValue;\n  };\n  Calendar.prototype.todayButtonClick = function (e) {\n    if (this.showTodayButton) {\n      var tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n      _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n    }\n  };\n  Calendar.prototype.keyActionHandle = function (e) {\n    _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.preRender = function () {\n    var _this = this;\n    this.changeHandler = function (e) {\n      _this.triggerChange(e);\n    };\n    this.checkView();\n    _super.prototype.preRender.call(this, this.value);\n  };\n  /**\n   * @returns {void}\n    */\n  Calendar.prototype.createContent = function () {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n    _super.prototype.createContent.call(this);\n  };\n  Calendar.prototype.minMaxDate = function (localDate) {\n    return _super.prototype.minMaxDate.call(this, localDate);\n  };\n  Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n    _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n  };\n  Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n    var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n    if (this.isMultiSelection) {\n      _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n    }\n    return tempDays;\n  };\n  Calendar.prototype.renderYears = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderYears.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  };\n  Calendar.prototype.renderDecades = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderDecades.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  };\n  Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    e && e.type === 'click' && e.currentTarget.classList.contains(OTHERMONTH) ? this.changeHandler(e) : this.changeHandler();\n  };\n  Calendar.prototype.clickHandler = function (e) {\n    var eve = e.currentTarget;\n    this.isPopupClicked = true;\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n          copyValues.push(this.getIdValue(e, null));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        } else {\n          this.previousDates = true;\n        }\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n    var storeView = this.currentView();\n    _super.prototype.clickHandler.call(this, e, this.value);\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  };\n  Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n    _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n  Calendar.prototype.getModuleName = function () {\n    _super.prototype.getModuleName.call(this);\n    return 'calendar';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  Calendar.prototype.getPersistData = function () {\n    _super.prototype.getPersistData.call(this);\n    var keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n            this.update();\n          }\n          break;\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              var copyValues = this.copyValues(this.values);\n              for (var index = 0; index < copyValues.length; index++) {\n                var tempDate = copyValues[index];\n                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n              this.setProperties({\n                values: copyValues\n              }, true);\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n          break;\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n          break;\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n          break;\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n      }\n    }\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  Calendar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    if (this.getModuleName() === 'calendar') {\n      this.changedArgs = null;\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n    */\n  Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n    this.minMaxUpdate();\n    _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n    */\n  Calendar.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.addDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.removeDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var index = 0; index < tempDates.length; index++) {\n          for (var i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n  Calendar.prototype.setTodayDate = function (date) {\n    var todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n    _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n  };\n  Calendar.prototype.update = function () {\n    this.validateDate();\n    this.minMaxUpdate();\n    _super.prototype.setValueUpdate.call(this);\n  };\n  Calendar.prototype.selectDate = function (e, date, element) {\n    _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Calendar.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n      this.previousDate = new Date(+this.value);\n    }\n  };\n  Calendar.prototype.triggerChange = function (e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    }\n    // eslint-disable-next-line use-isnan\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || this.previousDate === null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  };\n  __decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n  __decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n  __decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n  __decorate([Event()], Calendar.prototype, \"change\", void 0);\n  Calendar = __decorate([NotifyPropertyChanges], Calendar);\n  return Calendar;\n}(CalendarBase);\nexport { Calendar };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","cldrData","getDefaultDateObject","rippleEffect","removeClass","detach","closest","addClass","attributes","getValue","getUniqueID","extend","Browser","Property","Event","isNullOrUndefined","throwError","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","CONTENTTABLE","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","FOCUSEDCELL","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","previousDates","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createElement","disabled","enabled","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","select","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","tabIndexAttr","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","id","createContentHeader","createContentBody","showTodayButton","createContentFooter","addContentFocus","removeContentFocus","args","focusedDate","tableBodyElement","querySelector","selectedDate","remove","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","renderDayCellArgs","multiSelection","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","navigatePrevious","navigateNext","focus","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","hide","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigateNextHandler","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","currentTarget","tempValue","formatOptions","calendar","getDateVal","innerText","copyValues","type_1","formatOptions_1","localDateString_1","tempDateString_1","indexOf","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","getIdValue","islamicPreviousHeader","islamicDate","getIslamicDate","toGregorian","switchView","requiredModules","modules","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","undefined","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","todayButtonEvent","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN"],"sources":["/Users/nicolechan/Desktop/FYP_Test/node_modules/@syncfusion/ej2-calendars/src/calendar/calendar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-expressions */\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar CONTENTTABLE = 'e-content-table';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar FOCUSEDCELL = 'e-focused-cell';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.previousDates = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'data-role': 'calendar'\n            });\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        var tabIndexAttr = { 'tabindex': '0' };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        attributes(this.previousIcon, tabIndexAttr);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        if (this.getModuleName() === 'daterangepicker') {\n            attributes(this.previousIcon, { tabIndex: '-1' });\n            attributes(this.nextIcon, { tabIndex: '-1' });\n        }\n        attributes(this.nextIcon, ariaNextAttrs);\n        attributes(this.nextIcon, tabIndexAttr);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        attributes(this.headerTitleElement, tabIndexAttr);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { 'class': CONTENTTABLE, 'tabIndex': '0', 'role': 'grid', 'aria-activedescendant': '', 'aria-labelledby': this.element.id } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n        if (this.getModuleName() != 'daterangepicker') {\n            EventHandler.add(this.table, 'focus', this.addContentFocus, this);\n            EventHandler.add(this.table, 'blur', this.removeContentFocus, this);\n        }\n    };\n    CalendarBase.prototype.addContentFocus = function (args) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        if (!isNullOrUndefined(selectedDate)) {\n            selectedDate.classList.add(FOCUSEDCELL);\n        }\n        else if (!isNullOrUndefined(focusedDate)) {\n            focusedDate.classList.add(FOCUSEDCELL);\n        }\n    };\n    CalendarBase.prototype.removeContentFocus = function (args) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        if (!isNullOrUndefined(selectedDate)) {\n            selectedDate.classList.remove(FOCUSEDCELL);\n        }\n        else if (!isNullOrUndefined(focusedDate)) {\n            focusedDate.classList.remove(FOCUSEDCELL);\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        if (!isNullOrUndefined(cldrObj)) {\n            for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n                var obj = _a[_i];\n                culShortNames.push(getValue(obj, cldrObj));\n            }\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\" aria-hidden=\"true\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek) : null;\n        if (!isNullOrUndefined(shortNames)) {\n            for (var days = 0; days <= daysCount; days++) {\n                html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n            }\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n        this.todayElement.setAttribute('tabindex', '0');\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement =\n            this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n                    this.keyboardNavigate(-1, view, e, this.max, this.min);\n                    e.preventDefault();\n                }\n                break;\n            case 'moveRight':\n                if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n                    this.keyboardNavigate(1, view, e, this.max, this.min);\n                    e.preventDefault();\n                }\n                break;\n            case 'moveUp':\n                if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n                    if (view === 0) {\n                        this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                    }\n                    else {\n                        this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'moveDown':\n                if (this.getModuleName() != 'daterangepicker' && !isNullOrUndefined(e.target) && e.target.classList.length > 0 && e.target.classList.contains('e-content-table')) {\n                    if (view === 0) {\n                        this.keyboardNavigate(7, view, e, this.max, this.min);\n                    }\n                    else {\n                        this.keyboardNavigate(4, view, e, this.max, this.min);\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'select':\n                if (e.target === this.headerTitleElement) {\n                    this.navigateTitle(e);\n                }\n                else if (e.target === this.previousIcon) {\n                    this.navigatePrevious(e);\n                }\n                else if (e.target === this.nextIcon) {\n                    this.navigateNext(e);\n                }\n                else if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                    if (this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') {\n                        this.element.focus();\n                    }\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                        if (this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') {\n                            this.element.focus();\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n            case 'tab':\n                if ((this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') && e.target === this.todayElement) {\n                    e.preventDefault();\n                    this.element.focus();\n                    this.hide();\n                }\n                break;\n            case 'shiftTab':\n                if ((this.getModuleName() === 'datepicker' || this.getModuleName() === 'datetimepicker') && e.target === this.headerTitleElement) {\n                    e.preventDefault();\n                    this.element.focus();\n                    this.hide();\n                }\n                break;\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n                dayLink.setAttribute('aria-disabled', 'true');\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                dayLink.setAttribute('aria-disabled', 'true');\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var currentTarget = void 0;\n            if (!isNullOrUndefined(e) && e.type === 'click') {\n                currentTarget = e.currentTarget;\n            }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText &&\n                        this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n                        removeClass([tdEle], SELECTED);\n                        this.previousDates = false;\n                        var copyValues = this.copyValues(values);\n                        for (var i = 0; i < copyValues.length; i++) {\n                            var type_1 = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                            var formatOptions_1 = { format: null, type: 'date', skeleton: 'short', calendar: type_1 };\n                            var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n                            var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n                            if (localDateString_1 === tempDateString_1) {\n                                var index = copyValues.indexOf(copyValues[i]);\n                                copyValues.splice(index, 1);\n                                values.splice(index, 1);\n                            }\n                        }\n                        this.setProperties({ values: copyValues }, true);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (!isNullOrUndefined(date) && date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select = (value && (value).getFullYear() === yr && localMonth);\n            var title = this.globalize.formatDate(localDate, { type: 'date', format: 'MMM y' });\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n                dayLink.setAttribute('title', '' + title);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                dayLink.setAttribute('aria-disabled', 'true');\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n                dayLink.setAttribute('title', '' + dayLink.textContent);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value;\n        if (!isNullOrUndefined(date)) {\n            value = date.valueOf();\n        }\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr');\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].\n                    classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.islamicPreviousHeader = this.headerElement.textContent;\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    if (this.getModuleName() === 'calendar') {\n                        var l10nLocale = { today: 'Today' };\n                        this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n                    }\n                    this.l10.setLocale(this.locale);\n                    if (this.showTodayButton) {\n                        this.updateFooter();\n                    }\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            if (!isNullOrUndefined(this.headerTitleElement)) {\n                EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            }\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        this.todayElement = null;\n        this.tableBodyElement = null;\n        this.todayButtonEvent = null;\n        this.renderDayCellArgs = null;\n        this.headerElement = null;\n        this.nextIcon = null;\n        this.table = null;\n        this.tableHeadElement = null;\n        this.previousIcon = null;\n        this.headerTitleElement = null;\n        this.footer = null;\n        this.contentElement = null;\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        !Browser.isDevice && e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        !Browser.isDevice && eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n                addClass([this.previousIcon], '' + DISABLED);\n                addClass([this.previousIcon], '' + OVERLAY);\n                this.previousIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n                addClass([this.nextIcon], DISABLED);\n                addClass([this.nextIcon], OVERLAY);\n                this.nextIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        e && e.type === 'click' && e.currentTarget.classList.contains(OTHERMONTH) ? this.changeHandler(e) : this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n                    copyValues.push(this.getIdValue(e, null));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: this.values[this.values.length - 1] }, true);\n                }\n                else {\n                    this.previousDates = true;\n                }\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            this.changedArgs = null;\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        // eslint-disable-next-line use-isnan\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) &&\n            !isNullOrUndefined(this.previousDate) || this.previousDate === null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\nexport { Calendar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}