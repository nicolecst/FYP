{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-60e1a2d6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<nav style=\\\"--bs-breadcrumb-divider:&#39;&gt;&#39;;\\\" aria-label=\\\"breadcrumb\\\" data-v-60e1a2d6><ol class=\\\"breadcrumb\\\" data-v-60e1a2d6><li class=\\\"breadcrumb-item\\\" data-v-60e1a2d6><a href=\\\"/\\\" data-v-60e1a2d6>Home</a><a href=\\\"/admin\\\" data-v-60e1a2d6>Home</a></li><li class=\\\"breadcrumb-item active\\\" aria-current=\\\"page\\\" data-v-60e1a2d6>Activtiy Details</li></ol></nav><div class=\\\"header\\\" data-v-60e1a2d6><h3 style=\\\"margin:0;font-family:BungeeInline;\\\" data-v-60e1a2d6>All activities</h3><!-- &lt;div class=&quot;col-md-6&quot; style=&quot;text-align: right&quot;&gt;\\n          &lt;a href=&quot;&quot;&gt;view all&lt;/a&gt;\\n        &lt;/div&gt; --><!-- &lt;button&gt;&lt;i class=&quot;fa-solid fa-filter fa-1x&quot; style=&quot;margin-right:5px&quot;&gt;&lt;/i&gt;Filter&lt;/button&gt; --></div>\", 2);\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  style: {\n    \"margin-bottom\": \"8px\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"pagination\"\n};\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBarVue = _resolveComponent(\"NavBarVue\");\n  const _component_CardViewVue = _resolveComponent(\"CardViewVue\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_NavBarVue), _hoisted_1, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedItems, activity => {\n    return _openBlock(), _createBlock(_component_CardViewVue, {\n      key: activity._id,\n      actname: activity.Act_name,\n      area: activity.Area,\n      district: activity.District,\n      category: activity.Category,\n      charge: activity.Charge,\n      act_ID: activity._id\n    }, {\n      type: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createTextVNode(\" Type: \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(activity.Type, t => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: t\n        }, _toDisplayString(t) + \", \", 1 /* TEXT */);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"actname\", \"area\", \"district\", \"category\", \"charge\", \"act_ID\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.previousPage && $options.previousPage(...args)),\n    disabled: $data.currentPage === 1\n  }, \" Previous \", 8 /* PROPS */, _hoisted_6), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.totalPages, page => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      onClick: $event => $options.pageNum(page),\n      class: \"pageNum\",\n      key: page,\n      style: _normalizeStyle({\n        backgroundColor: page === $data.currentPage ? '#016a70' : '#fff',\n        color: page === $data.currentPage ? '#fff' : '#016a70'\n      })\n    }, _toDisplayString(page), 13 /* TEXT, STYLE, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.nextPage && $options.nextPage(...args)),\n    disabled: $data.currentPage === $data.totalPages\n  }, \" Next \", 8 /* PROPS */, _hoisted_8)])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_createVNode","_component_NavBarVue","_hoisted_1","_createElementVNode","_hoisted_3","_Fragment","_renderList","$options","paginatedItems","activity","_createBlock","_component_CardViewVue","key","_id","actname","Act_name","area","Area","district","District","category","Category","charge","Charge","act_ID","type","_withCtx","_hoisted_4","Type","t","_toDisplayString","_hoisted_5","onClick","_cache","args","previousPage","disabled","$data","currentPage","_hoisted_6","totalPages","page","$event","pageNum","_normalizeStyle","_hoisted_7","nextPage","_hoisted_8"],"sources":["/Users/nicolechan/Desktop/FYP_Test/itinerary/src/pages/ActivitiesView.vue"],"sourcesContent":["<template>\n  <div>\n    <NavBarVue />\n    <nav style=\"--bs-breadcrumb-divider: '>'\" aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\">\n              <a href=\"/\">Home</a>\n              <a  href=\"/admin\">Home</a>\n            </li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Activtiy Details</li>\n          </ol>\n        </nav>\n\n    <div class=\"header\">\n        <h3 style=\"margin:0; font-family: BungeeInline;\">All activities</h3>\n      <!-- <div class=\"col-md-6\" style=\"text-align: right\">\n          <a href=\"\">view all</a>\n        </div> -->\n        <!-- <button><i class=\"fa-solid fa-filter fa-1x\" style=\"margin-right:5px\"></i>Filter</button> -->\n        \n    </div>\n\n    <div class=\"container\">\n      <CardViewVue\n        v-for=\"activity in paginatedItems\"\n        :key=\"activity._id\"\n        :actname=\"activity.Act_name\"\n        :area=\"activity.Area\"\n        :district=\"activity.District\"\n        :category=\"activity.Category\"\n        :charge=\"activity.Charge\"\n        :act_ID=\"activity._id\"\n      >\n      <template #type>\n          <div style=\"margin-bottom: 8px\">\n            Type: <span v-for=\"t in activity.Type\" :key=\"t\">{{ t }}, </span>\n          </div>\n        </template>\n    </CardViewVue>\n    </div>\n    <div class=\"pagination\">\n      <button @click=\"previousPage\" :disabled=\"currentPage === 1\">\n        Previous\n      </button>\n      <button @click=\"pageNum(page)\"\n        class=\"pageNum\"\n        v-for=\"page in totalPages\"\n        :key=\"page\"\n        v-bind:style=\"{\n          backgroundColor: page === currentPage ? '#016a70' : '#fff',\n          color: page === currentPage ? '#fff' : '#016a70',\n        }\"\n      >\n        {{ page }}\n      </button>\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\">\n        Next\n      </button>\n    </div>\n  </div>\n</template>\n\n<script type=\"module\">\nimport axios from \"axios\";\nimport NavBarVue from \"../components/NavBar.vue\";\nimport CardViewVue from \"../components/CardView.vue\";\n\nexport default {\n  name: \"ActivitiesView\",\n  components: {\n    NavBarVue,\n    CardViewVue,\n  },\n  data() {\n    return {\n      activities: [],\n      currentPage: 1,\n      totalPages: 1,\n      itemsPerPage: 10,\n    };\n  },\n  methods: {\n    actCat(cat) {\n      return this.activities.filter((a) => a.Category === cat);\n    },\n    approved() {\n      return this.activities.filter((a) => a.Approved === true);\n    },\n    pageNum(p){\n      this.currentPage = p;\n    },\n    fetchItems() {\n      // Make an HTTP request to the Node.js API endpoint\n      axios\n        .get(\"/api/allAct\", {\n          params: {\n            page: this.currentPage,\n            limit: this.itemsPerPage,\n          },\n        })\n        .then((response) => {\n          // Ensure the response data structure matches your expectation\n          const { activities, currentPage, totalPages } = response.data;\n\n          // Assign the data to the component's properties\n          this.activities = activities.filter((a) => a.Approved === true);\n          this.currentPage = currentPage;\n          this.totalPages = totalPages;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    previousPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.fetchItems();\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n        this.fetchItems();\n      }\n    },\n  },\n  // async created() {\n  //   const response = await axios\n  //     .get(\"/api/allAct\", {\n  //         params: {\n  //           page: this.currentPage,\n  //           limit: this.itemsPerPage,\n  //         },\n  //       })\n  //       .then((response) => {\n  //         // Ensure the response data structure matches your expectation\n  //         const { items, currentPage, totalPages } = response.data;\n\n  //         // Assign the data to the component's properties\n  //         this.items = items;\n  //         this.currentPage = currentPage;\n  //         this.totalPages = totalPages;\n  //       })\n  //       .catch((error) => {\n  //         console.error(error);\n  //       });\n\n  //   console.log(response);\n  // },\n  computed: {\n    paginatedItems() {\n      return this.activities.slice(\n        (this.currentPage - 1) * this.itemsPerPage,\n        this.currentPage * this.itemsPerPage\n      );\n    },\n  },\n  mounted() {\n    this.fetchItems();\n  },\n};\n</script>\n\n<style scoped>\n/* .scrolls {\n    display: flex;\n    flex-wrap: no-wrap;\n    overflow-x: auto;\n    margin: 20px;\n  } */\n\na {\n  color: #016a70;\n}\n\n.container {\n  display: flex;\n  flex-wrap: wrap;\n}\n.header{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 20px;\n}\n.header button{\n  margin-left: 20px;\n  color: #fff;\n  background-color: #016a70;\n  border-radius: 5px;\n  border: none;\n  padding: 5px;\n}\n.pagination {\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  margin: 20px;\n}\n.pagination button {\n  margin: auto;\n  background-color: #016a70;\n  color: #fff;\n  border-radius: 5px;\n  padding: 5px;\n  border: none;\n}\n.pagination button:disabled {\n  background-color: #8eb0b2;\n}\n.pageNum {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  margin-right: 10px;\n  width: 30px;\n  height: 30px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":";;;;EAsBSA,KAAK,EAAC;AAAW;;EAYXC,KAA0B,EAA1B;IAAA;EAAA;AAA0B;;EAMhCD,KAAK,EAAC;AAAY;;;;;;;uBAvCzBE,mBAAA,CA0DM,cAzDJC,YAAA,CAAaC,oBAAA,GACbC,UAQU,EAWVC,mBAAA,CAiBM,OAjBNC,UAiBM,I,kBAhBJL,mBAAA,CAeYM,SAAA,QAAAC,WAAA,CAdSC,QAAA,CAAAC,cAAc,EAA1BC,QAAQ;yBADjBC,YAAA,CAeYC,sBAAA;MAbTC,GAAG,EAAEH,QAAQ,CAACI,GAAG;MACjBC,OAAO,EAAEL,QAAQ,CAACM,QAAQ;MAC1BC,IAAI,EAAEP,QAAQ,CAACQ,IAAI;MACnBC,QAAQ,EAAET,QAAQ,CAACU,QAAQ;MAC3BC,QAAQ,EAAEX,QAAQ,CAACY,QAAQ;MAC3BC,MAAM,EAAEb,QAAQ,CAACc,MAAM;MACvBC,MAAM,EAAEf,QAAQ,CAACI;;MAETY,IAAI,EAAAC,QAAA,CACX,MAEM,CAFNvB,mBAAA,CAEM,OAFNwB,UAEM,G,iBAF0B,SACxB,I,kBAAA5B,mBAAA,CAA0DM,SAAA,QAAAC,WAAA,CAAxCG,QAAQ,CAACmB,IAAI,EAAlBC,CAAC;6BAAd9B,mBAAA,CAA0D;UAAxBa,GAAG,EAAEiB;QAAC,GAAAC,gBAAA,CAAKD,CAAC,IAAG,IAAE;;;;oCAKjE1B,mBAAA,CAkBM,OAlBN4B,UAkBM,GAjBJ5B,mBAAA,CAES;IAFA6B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE3B,QAAA,CAAA4B,YAAA,IAAA5B,QAAA,CAAA4B,YAAA,IAAAD,IAAA,CAAY;IAAGE,QAAQ,EAAEC,KAAA,CAAAC,WAAW;KAAQ,YAE5D,iBAAAC,UAAA,I,kBACAxC,mBAAA,CAUSM,SAAA,QAAAC,WAAA,CARQ+B,KAAA,CAAAG,UAAU,EAAlBC,IAAI;yBAFb1C,mBAAA,CAUS;MAVAiC,OAAK,EAAAU,MAAA,IAAEnC,QAAA,CAAAoC,OAAO,CAACF,IAAI;MAC1B5C,KAAK,EAAC,SAAS;MAEde,GAAG,EAAE6B,IAAI;MACH3C,KAAK,EAAA8C,eAAA;yBAA+BH,IAAI,KAAKJ,KAAA,CAAAC,WAAW;eAAwCG,IAAI,KAAKJ,KAAA,CAAAC,WAAW;;wBAKxHG,IAAI,gCAAAI,UAAA;kCAET1C,mBAAA,CAES;IAFA6B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE3B,QAAA,CAAAuC,QAAA,IAAAvC,QAAA,CAAAuC,QAAA,IAAAZ,IAAA,CAAQ;IAAGE,QAAQ,EAAEC,KAAA,CAAAC,WAAW,KAAKD,KAAA,CAAAG;KAAY,QAEjE,iBAAAO,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}